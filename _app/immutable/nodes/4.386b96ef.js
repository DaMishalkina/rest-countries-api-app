import{s as W,f as E,a as L,l as B,g as y,h as w,c as T,m as D,d as b,j as h,I as te,i as F,v as g,n as j,y as U,r as Q,u as q,J as M,w as R,A as Z,K as de,B as H,L as le,z as ve,o as be,e as se}from"../chunks/scheduler.26305d68.js";import{S as $,i as G,b as J,d as K,m as X,a as P,t as N,c as pe,e as Y,g as me}from"../chunks/index.788f041a.js";import{e as z,u as x,d as ge,o as ke,r as ae,a as re}from"../chunks/replaceSpaceWithDash.2e45b528.js";import{b as ne}from"../chunks/paths.92983bdb.js";import{w as we}from"../chunks/index.b709f199.js";const Ee=async({fetch:c})=>{try{const t=await c("https://restcountries.com/v3.1/all?fields=name,flags,region,population,capital,cca3");if(!t.ok)throw new Error(`HTTP error: ${t.status}`);return{countries:await t.json()}}catch(t){return console.error(t),{error:"Unable to fetch countries"}}},Ve=Object.freeze(Object.defineProperty({__proto__:null,load:Ee},Symbol.toStringTag,{value:"Module"}));function oe(c,t,e){const s=c.slice();return s[4]=t[e],s[6]=e,s}function ce(c,t){let e,s,i=t[4].split(":")[0]+"",n,o,a,l,r=t[4].split(":")[1]+"",u,p;return{key:c,first:null,c(){e=E("li"),s=E("span"),n=B(i),o=B(":"),a=L(),l=E("span"),u=B(r),p=L(),this.h()},l(v){e=y(v,"LI",{class:!0});var _=w(e);s=y(_,"SPAN",{class:!0});var k=w(s);n=D(k,i),o=D(k,":"),k.forEach(b),a=T(_),l=y(_,"SPAN",{});var d=w(l);u=D(d,r),d.forEach(b),p=T(_),_.forEach(b),this.h()},h(){h(s,"class","card-info__field-name svelte-938g4t"),h(e,"class","card-info svelte-938g4t"),this.first=e},m(v,_){F(v,e,_),g(e,s),g(s,n),g(s,o),g(e,a),g(e,l),g(l,u),g(e,p)},p(v,_){t=v,_&4&&i!==(i=t[4].split(":")[0]+"")&&j(n,i),_&4&&r!==(r=t[4].split(":")[1]+"")&&j(u,r)},d(v){v&&b(e)}}}function ye(c){let t,e,s,i,n,o,a,l,r,u,p=[],v=new Map,_=z(c[2]);const k=d=>d[6];for(let d=0;d<_.length;d+=1){let f=oe(c,_,d),m=k(f);v.set(m,p[d]=ce(m,f))}return{c(){t=E("a"),e=E("img"),n=L(),o=E("div"),a=E("p"),l=B(c[0]),r=L(),u=E("ul");for(let d=0;d<p.length;d+=1)p[d].c();this.h()},l(d){t=y(d,"A",{href:!0,class:!0});var f=w(t);e=y(f,"IMG",{class:!0,src:!0,alt:!0}),n=T(f),o=y(f,"DIV",{class:!0});var m=w(o);a=y(m,"P",{class:!0});var I=w(a);l=D(I,c[0]),I.forEach(b),r=T(m),u=y(m,"UL",{class:!0});var C=w(u);for(let S=0;S<p.length;S+=1)p[S].l(C);C.forEach(b),m.forEach(b),f.forEach(b),this.h()},h(){h(e,"class","card__image svelte-938g4t"),te(e.src,s=c[3])||h(e,"src",s),h(e,"alt",i=c[0]+" Flag"),h(a,"class","card__title svelte-938g4t"),h(u,"class","card-infos card__infos svelte-938g4t"),h(o,"class","card__content svelte-938g4t"),h(t,"href",c[1]),h(t,"class","card svelte-938g4t")},m(d,f){F(d,t,f),g(t,e),g(t,n),g(t,o),g(o,a),g(a,l),g(o,r),g(o,u);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(u,null)},p(d,[f]){f&8&&!te(e.src,s=d[3])&&h(e,"src",s),f&1&&i!==(i=d[0]+" Flag")&&h(e,"alt",i),f&1&&j(l,d[0]),f&4&&(_=z(d[2]),p=x(p,f,k,1,d,_,v,u,ge,ce,null,oe)),f&2&&h(t,"href",d[1])},i:U,o:U,d(d){d&&b(t);for(let f=0;f<p.length;f+=1)p[f].d()}}}function Ie(c,t,e){let{cardTitle:s="",cardLink:i="",cardInfos:n,cardImage:o}=t;return c.$$set=a=>{"cardTitle"in a&&e(0,s=a.cardTitle),"cardLink"in a&&e(1,i=a.cardLink),"cardInfos"in a&&e(2,n=a.cardInfos),"cardImage"in a&&e(3,o=a.cardImage)},[s,i,n,o]}class Le extends ${constructor(t){super(),G(this,t,Ie,ye,W,{cardTitle:0,cardLink:1,cardInfos:2,cardImage:3})}}const O=we({searchTerm:"",selectedFilter:""});function ie(c,t,e){const s=c.slice();return s[10]=t[e],s}function ue(c,t){let e,s,i=t[10]+"",n,o,a,l,r,u,p,v;function _(){return t[6](t[10])}return{key:c,first:null,c(){e=E("li"),s=E("label"),n=B(i),o=L(),a=E("input"),r=L(),this.h()},l(k){e=y(k,"LI",{class:!0,role:!0,"aria-selected":!0});var d=w(e);s=y(d,"LABEL",{class:!0});var f=w(s);n=D(f,i),o=T(f),a=y(f,"INPUT",{type:!0}),f.forEach(b),r=T(d),d.forEach(b),this.h()},h(){h(a,"type","checkbox"),a.checked=l=t[1]===t[10],h(s,"class","select-checkbox dropdown-item__checkbox svelte-1f65drp"),M(s,"select-checkbox--checked",t[1]===t[10]),h(e,"class","dropdown-item select-dropdown__item svelte-1f65drp"),h(e,"role","option"),h(e,"aria-selected",u=t[1]===t[10]),this.first=e},m(k,d){F(k,e,d),g(e,s),g(s,n),g(s,o),g(s,a),g(e,r),p||(v=R(a,"change",_),p=!0)},p(k,d){t=k,d&1&&i!==(i=t[10]+"")&&j(n,i),d&3&&l!==(l=t[1]===t[10])&&(a.checked=l),d&3&&M(s,"select-checkbox--checked",t[1]===t[10]),d&3&&u!==(u=t[1]===t[10])&&h(e,"aria-selected",u)},d(k){k&&b(e),p=!1,v()}}}function Te(c){let t,e,s,i,n,o,a,l,r,u=[],p=new Map,v,_,k=z(c[0]);const d=f=>f[10];for(let f=0;f<k.length;f+=1){let m=ie(c,k,f),I=d(m);p.set(I,u[f]=ue(I,m))}return{c(){t=E("div"),e=E("button"),s=E("span"),i=B(c[1]),n=L(),o=Q("svg"),a=Q("path"),l=L(),r=E("ul");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){t=y(f,"DIV",{class:!0});var m=w(t);e=y(m,"BUTTON",{class:!0,role:!0,"aria-labelledby":!0,"aria-haspopup":!0,"aria-expanded":!0,"aria-controls":!0});var I=w(e);s=y(I,"SPAN",{class:!0});var C=w(s);i=D(C,c[1]),C.forEach(b),n=T(I),o=q(I,"svg",{class:!0,xmlns:!0,fill:!0,height:!0,width:!0,id:!0,viewBox:!0,"xml:space":!0});var S=w(o);a=q(S,"path",{id:!0,d:!0}),w(a).forEach(b),S.forEach(b),I.forEach(b),l=T(m),r=y(m,"UL",{class:!0,role:!0});var V=w(r);for(let A=0;A<u.length;A+=1)u[A].l(V);V.forEach(b),m.forEach(b),this.h()},h(){h(s,"class","select__selected-value"),h(a,"id","XMLID_225_"),h(a,"d","M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393  c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393  s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"),h(o,"class","arrow-icon select__icon svelte-1f65drp"),h(o,"xmlns","http://www.w3.org/2000/svg"),h(o,"fill","currentColor"),h(o,"height","10px"),h(o,"width","10px"),h(o,"id","Layer_1"),h(o,"viewBox","0 0 330 330"),h(o,"xml:space","preserve"),M(o,"arrow-icon--up",c[2]),h(e,"class","select__button svelte-1f65drp"),h(e,"role","combobox"),h(e,"aria-labelledby","select button"),h(e,"aria-haspopup","listbox"),h(e,"aria-expanded","false"),h(e,"aria-controls","select-dropdown"),h(r,"class","select-dropdown select__dropdown svelte-1f65drp"),h(r,"role","listbox"),M(r,"select-dropdown--visible",c[2]),h(t,"class","select svelte-1f65drp")},m(f,m){F(f,t,m),g(t,e),g(e,s),g(s,i),g(e,n),g(e,o),g(o,a),g(t,l),g(t,r);for(let I=0;I<u.length;I+=1)u[I]&&u[I].m(r,null);v||(_=R(e,"click",c[5]),v=!0)},p(f,[m]){m&2&&j(i,f[1]),m&4&&M(o,"arrow-icon--up",f[2]),m&11&&(k=z(f[0]),u=x(u,m,d,1,f,k,p,r,ge,ue,null,ie)),m&4&&M(r,"select-dropdown--visible",f[2])},i:U,o:U,d(f){f&&b(t);for(let m=0;m<u.length;m+=1)u[m].d();v=!1,_()}}}function Se(c,t,e){let s;Z(c,O,_=>e(7,s=_));let{title:i="",options:n}=t;const o=`Filter by ${i}`,a=de();let l=s.selectedFilter.length>0?s.selectedFilter:o,r=!1;const u=_=>{l===_?(e(1,l=o),H(O,s.selectedFilter="",s)):(e(1,l=_),H(O,s.selectedFilter=l,s)),e(2,r=!r),a("select")},p=()=>e(2,r=!r),v=_=>u(_);return c.$$set=_=>{"title"in _&&e(4,i=_.title),"options"in _&&e(0,n=_.options)},[n,l,r,u,i,p,v]}class Ce extends ${constructor(t){super(),G(this,t,Se,Te,W,{title:4,options:0})}}function Fe(c){let t,e,s,i,n,o,a;return{c(){t=E("label"),e=Q("svg"),s=Q("path"),i=L(),n=E("input"),this.h()},l(l){t=y(l,"LABEL",{class:!0});var r=w(t);e=q(r,"svg",{class:!0,focusable:!0,xmlns:!0,viewBox:!0,fill:!0});var u=w(e);s=q(u,"path",{d:!0});var p=w(s);p.forEach(b),u.forEach(b),i=T(r),n=y(r,"INPUT",{placeholder:!0,class:!0,type:!0}),r.forEach(b),this.h()},h(){h(s,"d","M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"),h(e,"class","search-container__icon svelte-12v7tdm"),h(e,"focusable","false"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"viewBox","0 0 24 24"),h(e,"fill","currentColor"),h(n,"placeholder",c[0]),h(n,"class","search-container__input svelte-12v7tdm"),h(n,"type","text"),h(t,"class","search-container svelte-12v7tdm")},m(l,r){F(l,t,r),g(t,e),g(e,s),g(t,i),g(t,n),le(n,c[1]),o||(a=[R(n,"input",c[3]),R(n,"input",c[2])],o=!0)},p(l,[r]){r&1&&h(n,"placeholder",l[0]),r&2&&n.value!==l[1]&&le(n,l[1])},i:U,o:U,d(l){l&&b(t),o=!1,ve(a)}}}function Pe(c,t,e){let s;Z(c,O,r=>e(4,s=r));let{placeholder:i="Search for a country..."}=t;const n=de();let o=s.searchTerm;const a=()=>{H(O,s.searchTerm=o,s),n("search")};function l(){o=this.value,e(1,o)}return c.$$set=r=>{"placeholder"in r&&e(0,i=r.placeholder)},[i,o,a,l]}class Ae extends ${constructor(t){super(),G(this,t,Pe,Fe,W,{placeholder:0})}}function he(c,t,e){const s=c.slice();return s[5]=t[e],s[7]=e,s}function fe(c){let t,e=[],s=new Map,i,n=z(c[0]);const o=a=>a[7];for(let a=0;a<n.length;a+=1){let l=he(c,n,a),r=o(l);s.set(r,e[a]=_e(r,l))}return{c(){t=E("section");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=y(a,"SECTION",{class:!0});var l=w(t);for(let r=0;r<e.length;r+=1)e[r].l(l);l.forEach(b),this.h()},h(){h(t,"class","main__countries-list svelte-1hu1we0")},m(a,l){F(a,t,l);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,null);i=!0},p(a,l){l&1&&(n=z(a[0]),me(),e=x(e,l,o,1,a,n,s,t,ke,_e,null,he),pe())},i(a){if(!i){for(let l=0;l<n.length;l+=1)P(e[l]);i=!0}},o(a){for(let l=0;l<e.length;l+=1)N(e[l]);i=!1},d(a){a&&b(t);for(let l=0;l<e.length;l+=1)e[l].d()}}}function _e(c,t){var n,o,a,l,r,u,p,v;let e,s,i;return s=new Le({props:{cardLink:ne+`/${ae((n=t[5])==null?void 0:n.cca3)}`,cardTitle:(a=(o=t[5])==null?void 0:o.name)==null?void 0:a.common,cardImage:(r=(l=t[5])==null?void 0:l.flags)==null?void 0:r.png,cardInfos:[`Population: ${re((u=t[5])==null?void 0:u.population)}`,`Region: ${(p=t[5])==null?void 0:p.region}`,`Capital: ${(v=t[5])==null?void 0:v.capital[0]}`]}}),{key:c,first:null,c(){e=se(),J(s.$$.fragment),this.h()},l(_){e=se(),K(s.$$.fragment,_),this.h()},h(){this.first=e},m(_,k){F(_,e,k),X(s,_,k),i=!0},p(_,k){var f,m,I,C,S,V,A,ee;t=_;const d={};k&1&&(d.cardLink=ne+`/${ae((f=t[5])==null?void 0:f.cca3)}`),k&1&&(d.cardTitle=(I=(m=t[5])==null?void 0:m.name)==null?void 0:I.common),k&1&&(d.cardImage=(S=(C=t[5])==null?void 0:C.flags)==null?void 0:S.png),k&1&&(d.cardInfos=[`Population: ${re((V=t[5])==null?void 0:V.population)}`,`Region: ${(A=t[5])==null?void 0:A.region}`,`Capital: ${(ee=t[5])==null?void 0:ee.capital[0]}`]),s.$set(d)},i(_){i||(P(s.$$.fragment,_),i=!0)},o(_){N(s.$$.fragment,_),i=!1},d(_){_&&b(e),Y(s,_)}}}function Me(c){var r;let t,e,s,i,n,o,a;s=new Ae({}),s.$on("search",c[2]),n=new Ce({props:{title:"region",options:c[1]}}),n.$on("select",c[2]);let l=((r=c[0])==null?void 0:r.length)>0&&fe(c);return{c(){t=E("main"),e=E("section"),J(s.$$.fragment),i=L(),J(n.$$.fragment),o=L(),l&&l.c(),this.h()},l(u){t=y(u,"MAIN",{class:!0});var p=w(t);e=y(p,"SECTION",{class:!0});var v=w(e);K(s.$$.fragment,v),i=T(v),K(n.$$.fragment,v),v.forEach(b),o=T(p),l&&l.l(p),p.forEach(b),this.h()},h(){h(e,"class","main__filters svelte-1hu1we0"),h(t,"class","main svelte-1hu1we0")},m(u,p){F(u,t,p),g(t,e),X(s,e,null),g(e,i),X(n,e,null),g(t,o),l&&l.m(t,null),a=!0},p(u,[p]){var v;((v=u[0])==null?void 0:v.length)>0?l?(l.p(u,p),p&1&&P(l,1)):(l=fe(u),l.c(),P(l,1),l.m(t,null)):l&&(me(),N(l,1,1,()=>{l=null}),pe())},i(u){a||(P(s.$$.fragment,u),P(n.$$.fragment,u),P(l),a=!0)},o(u){N(s.$$.fragment,u),N(n.$$.fragment,u),N(l),a=!1},d(u){u&&b(t),Y(s),Y(n),l&&l.d()}}}function Ne(c,t,e){let s;Z(c,O,l=>e(4,s=l));let{data:i}=t,n=(i==null?void 0:i.countries)||[],o=Array.from(new Set(n.map(l=>l.region)))||[];const a=()=>{e(0,n=i.countries.filter(l=>l.name.common.toLowerCase().includes(s.searchTerm.toLowerCase())&&l.region.includes(s.selectedFilter)))};return be(()=>{a()}),c.$$set=l=>{"data"in l&&e(3,i=l.data)},[n,o,a,i]}class je extends ${constructor(t){super(),G(this,t,Ne,Me,W,{data:3})}}export{je as component,Ve as universal};
